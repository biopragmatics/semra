{% extends "base.html" %}

{% import "bootstrap5/utils.html" as util %}

{% block title %}SeMRA{% endblock %}


{% block content %}
<div class="container" style="margin-top: 50px; margin-bottom: 50px">
    {{ util.render_messages(dismissible=True, container=False) }}
    <div class="row justify-content-md-center">
        <div class="col-8">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title">
                        Semantic Reasoning Assembler
                    </h5>
                    <h6>Mapping Sets</h6>
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Name</th>
                            <th>Version</th>
                            <th>License</th>
                            <th>Confidence</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for mapping_set in mapping_sets %}
                        <tr>
                            <td><a href="{{ url_for('view_mapping_set', curie=mapping_set.curie) }}">{{ mapping_set.name
                                }}</a></td>
                            <td>{{ mapping_set.version }}</td>
                            <td>{% if mapping_set.license %}{{ mapping_set.license }}{% endif %}</td>
                            <td>{{ mapping_set.confidence }}</td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>

                    <h6>Predicate Summary</h6>
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Predicate</th>
                            <th>Count</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for predicate,count in predicate_counter.most_common() %}
                        <tr>
                            <td><code>{{predicate}}</code></td>
                            <td align="right">{{count}}</td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>

                    <h6>Example Mappings</h6>
                    <ul>
                        {%- for example_mapping in example_mappings -%}
                        <li>
                            <a href="{{ url_for('view_mapping', curie=example_mapping) }}">
                                <code>{{ example_mapping[:8]}}</code>
                            </a>
                        </li>
                        {%- endfor -%}
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
